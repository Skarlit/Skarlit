webpackJsonp([1],{0:function(e,t,i){e.exports=i(161)},161:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=i(3),r=n(a),s=i(162),o=i(164),l=r["default"].createClass({displayName:"App",componentDidMount:function(){},render:function(){return r["default"].createElement("div",{className:"app"},r["default"].createElement("canvas",{id:"canvas-overlay",ref:"background"}),r["default"].createElement("div",{className:"body"},r["default"].createElement(o.Term,null," ")))}});r["default"].createClass({displayName:"NotFound",render:function(){return r["default"].createElement("div",null,r["default"].createElement("div",null," "))}});window.onload=function(){r["default"].render(r["default"].createElement(l,null),document.body,function(){s.Rain().start()})}},162:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(){var e,t=new o["default"].OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-500,1e4);t.position.z=100;var i=new o["default"].Scene,n=new o["default"].WebGLRenderer({canvas:document.getElementById("canvas-overlay")});n.setSize(window.innerWidth,window.innerHeight);var a=new r(window.innerWidth,window.innerHeight);i.add(a.ps),t.position.z=500;var s=new o["default"].Clock;s.start(),window.addEventListener("resize",function(){t.aspect=window.innerWidth/window.innerHeight,t.updateProjectionMatrix(),n.setSize(window.innerWidth,window.innerHeight)});var l=function h(){e=requestAnimationFrame(h);var r=s.getDelta();a.update(r),n.render(i,t)};return{start:function(){l()},end:function(){window.cancelAnimationFrame(e)}}}function r(e,t){this.w=e,this.h=t,this.psGeo=new o["default"].BufferGeometry,this.letterCount=32,this.alphabetWidth=1024,this.offsetTable=new Array(32);for(var i=0;i<this.letterCount;i++)this.offsetTable[i]=i/this.letterCount;this.gridSize=32,this.n=Math.ceil(this.h/this.gridSize),this.m=Math.ceil(this.w/this.gridSize),this.alphas=new Float32Array(this.n*this.m),this.offset=new Float32Array(this.n*this.m),this.vertices=new Float32Array(this.n*this.m*3),this.scannerNum=2*this.m,this.depth=-5;for(var i=0;i<this.n;i++)for(var n=0;n<this.m;n++)this.vertices[i*this.m*3+3*n]=n*this.gridSize-this.w/2,this.vertices[i*this.m*3+3*n+1]=-i*this.gridSize+this.h/2,this.vertices[i*this.m*3+3*n+2]=this.depth,this.alphas[i*this.m+n]=0,this.offset[i*this.m+n]=this.offsetTable[parseInt(Math.random()*this.letterCount)];this.scanners=[];for(var i=0;i<this.scannerNum;i++)this.scanners.push({col:Math.round(this.m*Math.random()),row:Math.random()*this.n,v:10});this.psGeo.addAttribute("position",new o["default"].BufferAttribute(this.vertices,3)),this.psGeo.addAttribute("alphas",new o["default"].BufferAttribute(this.alphas,1)),this.psGeo.addAttribute("offset",new o["default"].BufferAttribute(this.offset,1));var a=o["default"].ImageUtils.loadTexture("../img/alphabet.png");a.flipY=!1;var r={color:{type:"c",value:new o["default"].Color(65535)},texture:{type:"t",value:a}};this.psMat=new o["default"].ShaderMaterial({uniforms:r,vertexShader:l,fragmentShader:h,transparent:!0}),this.ps=new o["default"].Points(this.psGeo,this.psMat),this.ps.position.z=-10,this.skipFrame=12,this.count=0,this.speed=100}Object.defineProperty(t,"__esModule",{value:!0}),t.Rain=a;var s=i(163),o=n(s),l="\n    attribute float alphas;\n    attribute float offset;\n\n    varying float vAlpha;\n    varying float vOffset;\n\n    void main() {\n        vAlpha = alphas;\n        vOffset = offset;\n\n        gl_PointSize = 32.0;\n\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n    }\n",h="\n    uniform vec3 color;\n    uniform sampler2D texture;\n\n    varying float vAlpha;\n    varying float vOffset;\n\n    void main() {\n\n        vec4 color = texture2D(texture, gl_PointCoord * vec2(0.03125, 1.0) + vec2(vOffset, 0.0));\n        gl_FragColor = vec4(color.xyz, color.a * vAlpha);\n    }\n";r.prototype={update:function(e){this.count++;for(var t=this.psGeo.attributes.alphas.array,i=this.psGeo.attributes.offset.array,n=0;n<this.scanners.length;n++){var a=Math.round(this.scanners[n].row)*this.m+this.scanners[n].col;t[a]=Math.min(1,t[a]+.2),this.scanners[n].row+=e*this.scanners[n].v,this.scanners[n].row>this.n-1&&(this.scanners[n]={col:parseInt(this.m*Math.random()),row:Math.random()*this.n,v:10})}for(var r=0;r<t.length;r++)t[r]*=.98;if(this.count>this.skipFrame){this.count=0;for(var r=0;r<this.m;r++)i[parseInt(i.length*Math.random())]=this.offsetTable[parseInt(Math.random()*this.letterCount)]}this.psGeo.attributes.alphas.needsUpdate=!0,this.psGeo.attributes.offset.needsUpdate=!0}}},164:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(3),o=n(s),l=i(159),h=n(l),u=o["default"].createClass({displayName:"Term",getInitialState:function(){return{initialized:!1}},componentDidMount:function(){var e=h["default"](this.refs.term.getDOMNode()),t=[window.innerWidth/2,window.innerHeight/2],i=window.innerHeight*(window.innerHeight>window.innerWidth,.6),n=window.innerWidth*(window.innerHeight>window.innerWidth?.8:.6);h["default"]({t:0}).animate({t:1},{duration:300,easing:"linear",step:function(a){e.width(a*n),e.height(a*i),e.css("left",t[0]*(1-a)+a*(window.innerWidth-n)/2).css("top",t[1]*(1-a)+a*(window.innerHeight-i)/2)},complete:function(){this.setState({initialized:!0}),window.onresize=function(){var t=window.innerHeight*(window.innerHeight>window.innerWidth,.6),i=window.innerWidth*(window.innerHeight>window.innerWidth?.8:.6);(window.innerWidth-i)/2,(window.innerHeight-t)/2;e.css("left",(window.innerWidth-e.width())/2).css("top",(window.innerHeight-e.height())/2)}}.bind(this)})},componentWillUnmount:function(){},focus:function(){h["default"]("#user-input").focus()},render:function(){var e,t=null;if(this.state.initialized){var i=window.innerHeight*(window.innerHeight>window.innerWidth,.6),n=window.innerWidth*(window.innerHeight>window.innerWidth?.8:.6),a=(window.innerWidth-n)/2,r=(window.innerHeight-i)/2;e={height:i,width:n,top:r,left:a},t=[o["default"].createElement(c,{key:"termhead"}),o["default"].createElement(f,{key:"termbody"})]}else e=d;return o["default"].createElement("div",{id:"term",ref:"term",style:e},o["default"].createElement("div",{style:{position:"relative",width:"100%",height:"100%"},onClick:this.focus.bind(this)},t))}});t.Term=u;var d={width:0,height:0,top:"50%",left:"50%"},c=o["default"].createClass({displayName:"TermHead",render:function(){return o["default"].createElement("div",{id:"term-head"},o["default"].createElement("div",{className:"title"},"Welcome to Ran Xie's Homepage"))}}),f=o["default"].createClass({displayName:"TermBody",componentDidUpdate:function(){var e=this.refs.termBody.getDOMNode();e.scrollTop=e.scrollHeight},getInitialState:function(){return{userInput:"",loc:["~"],dispStack:[]}},componentDidMount:function(){new w(this)},render:function(){for(var e=[],t=0;t<this.state.dispStack.length;t++)e.push(o["default"].createElement(p,{key:"output-"+t,output:this.state.dispStack[t]}));return o["default"].createElement("div",{id:"term-body",ref:"termBody"},e,o["default"].createElement(m,{userInput:this.state.userInput,loc:this.state.loc.join("/")}))}}),p=o["default"].createClass({displayName:"Output",render:function(){return o["default"].createElement("div",{className:"output"},this.props.output)}}),m=o["default"].createClass({displayName:"CurrentLine",render:function(){return o["default"].createElement("div",{id:"current-line",className:"section"},o["default"].createElement("span",{className:"prefix"},"guest@Skarlit.github.io ",this.props.loc,">"),o["default"].createElement("span",{id:"user-input"},this.props.userInput),o["default"].createElement("span",{className:"blinking-cursor"}))}}),w=function(){function e(t){a(this,e),this.view=t,this.inputQueue=[],this.initListener()}return r(e,[{key:"initListener",value:function(){h["default"](window).on("keydown",function(e){switch(e.which){case 13:e.preventDefault(),e.stopPropagation(),this.cloneCurrentLine(),this.inputQueue=[];break;case 8:e.preventDefault(),e.stopPropagation(),this.inputQueue.pop();break;default:var t=String.fromCharCode(e.which);this.inputQueue.push(e.shiftKey?t:t.toLowerCase())}this.view.setState({userInput:this.inputQueue.join("")})}.bind(this)),h["default"](window).on("mousewheel",function(e){var t=e.originalEvent.wheelDelta;this.view.refs.termBody.getDOMNode().scrollTop-=t}.bind(this))}},{key:"cloneCurrentLine",value:function(){var e="guest@Skarlit.github.io "+this.view.state.loc+"> "+this.inputQueue.join("");this.view.state.dispStack.push(e),this.view.setState({})}}]),e}()}});